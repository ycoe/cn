function matchActive(t,i){for(var r in t){var e=t[r];if(r&&r.indexOf(i)>-1)return e.parents("li").addClass("active"),e.parents("ul").show(),!0}return!1}function initActiveNav(){var t={};$(".sidebar-menu a").each(function(){var i=$(this).attr("href");"javascript:;"===i&&(i=$(this).attr("url")),i&&"javascript:;"!==i&&(t[i]=$(this))});var i=window.location.pathname;matchActive(t,i)||(i=window.top.document.referrer,matchActive(t,i))}jQuery.fn.extend({post:function(t){return t=$.extend({success:function(t){log(["POST response:",t])},error:function(t){log(t)}},t),this.each(function(){var i=$(this).serializeJSON(),r=$(this).prop("action"),e=$(this).prop("method");e||(e="POST"),$.ajax({type:e,url:r,contentType:"application/json; charset=utf-8",data:"string"==typeof i?i:JSON.stringify(i),error:t.error}).done(function(i){t.success(i)}).fail(function(i){t.error(i)})})},autoForm:function(t){return this.each(function(){$(this).parsley().on("field:validated",function(){var t=0===$(".parsley-error").length;$(".bs-callout-info").toggleClass("hidden",!t),$(".bs-callout-warning").toggleClass("hidden",t)}).on("form:submit",function(i){return $(i.$element).post(t),!1})})}});var CN={gritterError:function(t,i){$.gritter.add({title:'<i class="fa fa-2x fa-exclamation-triangle f-s-12"></i>'+t,text:i})},gritterWarn:function(t,i){$.gritter.add({title:'<i class="fa fa-2x fa-exclamation-circle f-s-12"></i>'+t,text:i})},gritterInfo:function(t,i){$.gritter.add({title:'<i class="fa fa-2x fa-check f-s-12"></i>'+t,text:i})}};$(function(){initActiveNav()});